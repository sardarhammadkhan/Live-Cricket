!function(e){function t(t){for(var r,a,s=t[0],u=t[1],c=t[2],f=0,d=[];f<s.length;f++)a=s[f],Object.prototype.hasOwnProperty.call(o,a)&&o[a]&&d.push(o[a][0]),o[a]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);for(l&&l(t);d.length;)d.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var e,t=0;t<i.length;t++){for(var n=i[t],r=!0,s=1;s<n.length;s++){var u=n[s];0!==o[u]&&(r=!1)}r&&(i.splice(t--,1),e=a(a.s=n[0]))}return e}var r={},o={18:0},i=[];function a(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.e=function(e){var t=[],n=o[e];if(0!==n)if(n)t.push(n[2]);else{var r=new Promise((function(t,r){n=o[e]=[t,r]}));t.push(n[2]=r);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,a.nc&&s.setAttribute("nonce",a.nc),s.src=function(e){return a.p+""+({4:"ar",5:"cs",6:"da",7:"de",8:"en",9:"en_XA",10:"es",11:"fi",12:"fr",13:"id",14:"it",15:"ja",16:"keys",17:"ko",19:"ms",20:"nl",21:"no",22:"pl",23:"pt",24:"pt_BR",25:"ru",26:"sv",27:"th",28:"tr",30:"vi",31:"zh_CN",32:"zh_CN_yxbj",33:"zh_TW"}[e]||e)+"."+{0:"9dacd8b19a0355e11021",1:"85590a8edc4b57ece81d",2:"6a3b73c477b433c51b61",3:"4348ebbd7f680e7d68f9",4:"837526c688f3ba0f7433",5:"88e412a68a70dc00bd37",6:"0b636fde4a4cd59cc2b9",7:"4aac323cd4c7d565d12d",8:"d1ed7e3e291eb3561cc4",9:"bbe6533e8f266364ba5c",10:"8fe92f3180990ad1b95a",11:"cf4d6dcdc40ad1ad2c77",12:"46085cc2e6697a2ce1fe",13:"4b39822099b3bea0c8b2",14:"04c1a0663ffab66825ea",15:"5cd3628fdcc9238288ba",16:"5aa77b5d5b5935d8b325",17:"4d97807c020727ac2cff",19:"ad6b2951766146ee10e2",20:"2ced46f1c327a6cce527",21:"94a1de757af1bbc749a1",22:"b5137cb5a3e0175e4695",23:"3868664c4bdf6c813fda",24:"f6ee0760da5b57f9dfd4",25:"2e581b0b705ae652c3f6",26:"1c8dc758a95685b5a8aa",27:"12522e550d675d4af71d",28:"83d705ee262b62c70542",30:"519d58a10ff632a8c1a5",31:"27f57f0165ea85b97314",32:"c7002bcfb14936d687b8",33:"bf2c1be3d72b8872eaf3",34:"9bef561f2a45180694ee",35:"69850387546b9feb9eb2",36:"25eb1d4a8f5dd4ab2585",37:"c32aebd7f020ca2d7e2d",38:"be4b4aafa283b4870e2e",39:"b508041a72a7764de9dc",40:"cc7131174bc81cff7578",41:"8c66529a64633532ba0b",42:"8128bb9b51d77a6f5ece",43:"5025c4378ed6a899069d",44:"61c71e1c790e7053006c",45:"4324f4af9715b656d296",46:"e932b57d03b78aaa806b",47:"253633e73b503f4e9558",48:"85b4154385f2ce6c4f7f",49:"15530e849a83a32c86e2",50:"de9713b3b4ea96c5fa63"}[e]+".js"}(e);var u=new Error;i=function(t){s.onerror=s.onload=null,clearTimeout(c);var n=o[e];if(0!==n){if(n){var r=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;u.message="Loading chunk "+e+" failed.\n("+r+": "+i+")",u.name="ChunkLoadError",u.type=r,u.request=i,n[1](u)}o[e]=void 0}};var c=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(t)},a.m=e,a.c=r,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)a.d(n,r,function(t){return e[t]}.bind(null,r));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="https://cdn1.evernote.com/ion/dist/main/",a.oe=function(e){throw console.error(e),e};var s=window.webpackJsonp=window.webpackJsonp||[],u=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var l=u;i.push([492,29]),n()}({114:function(e,t,n){"use strict";var r=n(19),o=n(160);function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function c(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function p(e,t){return!t||"object"!==l(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e,t){return(_=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var y=Object(r.default)("ion:config:BaseEmbedLoader"),v=function(e){function t(){return f(this,t),p(this,h(t).apply(this,arguments))}var n,r,o,i,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_(e,t)}(t,e),n=t,(r=[{key:"getEmbeddedJson",value:function(){var e;if("object"===("undefined"==typeof window?"undefined":l(window))&&"object"===l(window.__ionOpts))e=window.__ionOpts,y.info("BaseEmbedLoader._values = ".concat(JSON.stringify(e,null,2)));else if("object"===("undefined"==typeof document?"undefined":l(document))){var t=document.getElementById("baseEmbed");if(t&&t.innerText)try{e=JSON.parse(t.innerText)}catch(e){return null}}return e}},{key:"init",value:(i=regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:null==this._values&&(this._values=this.getEmbeddedJson()||{},"object"===l(this._values.STATIC_CONFIGS)&&(t=this._values,n=t.STATIC_CONFIGS,r=u(t,["STATIC_CONFIGS"]),this._values=a({},n,{},r)));case 1:case"end":return e.stop()}}),e,this)})),s=function(){var e=this,t=arguments;return new Promise((function(n,r){var o=i.apply(e,t);function a(e){c(o,n,r,a,s,"next",e)}function s(e){c(o,n,r,a,s,"throw",e)}a(void 0)}))},function(){return s.apply(this,arguments)})}])&&d(n.prototype,r),o&&d(n,o),t}(o.a);t.a=new v},146:function(e,t,n){"use strict";n.r(t),function(e){var r=n(217),o=n.n(r),i=n(11);var a=function(){switch(e.platform){case"darwin":return"mac";case"win32":return"win";case"linux":return"linux";case"aix":case"freebsd":case"openbsd":case"netbsd":case"sunos":case"android":case"cygwin":throw new Error("Unsupported platform: ".concat(e.platform));default:throw Object(i.absurd)(e.platform,"getPlatformName")}}(),s={platformName:a,isPackaged:!o.a,isMac:"mac"===a,isWin:"win"===a,isLinux:"linux"===a,isNode:!0};t.default=s}.call(this,n(83))},151:function(e,t,n){"use strict";n.r(t),n.d(t,"Constants",(function(){return c})),n.d(t,"allNotesChecklistPromotions",(function(){return l})),n.d(t,"experimentEligibilityPromotions",(function(){return f})),n.d(t,"customerJourneyPromotions",(function(){return d})),n.d(t,"personalizationPromtoions",(function(){return p})),n.d(t,"postFleChecklistPromotions",(function(){return h})),n.d(t,"boronExistingUserObePromotions",(function(){return _})),n.d(t,"quotaBannerPromotions",(function(){return y})),n.d(t,"freeTrialPromotions",(function(){return v})),n.d(t,"deviceLimitUpsellPromotions",(function(){return m})),n.d(t,"Surveys",(function(){return u})),n.d(t,"promotionRegistry",(function(){return b})),n.d(t,"PROMOTION_IDS",(function(){return g})),n.d(t,"getAllPromotionIds",(function(){return E})),n.d(t,"getPromotionsOfType",(function(){return w}));var r=n(59);function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==s.return||s.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var u,c={FLOW:0,QUALTRICS:1,MODAL:4,ONBOARDING_CHECKLIST:5,BANNER:6,EXPERIMENT_ELIGIBILITY:7},l={CAN_SHOW_CHECKLIST:{type:c.ONBOARDING_CHECKLIST,promotionId:"AllNotes_Checklist_CanShow"},CLOSE_CHECKLIST:{type:c.ONBOARDING_CHECKLIST,promotionId:"AllNotes_Checklist_Close"},OPENED_CHECKLIST:{type:c.ONBOARDING_CHECKLIST,promotionId:"AllNotes_Checklist_Opened"},FIRST_NOTE_MODAL:{type:c.ONBOARDING_CHECKLIST,promotionId:"AllNotes_Checklist_FirstModal"}},f={DOC_SEARCH_UPSELLS_NEW_USER:{type:c.EXPERIMENT_ELIGIBILITY,promotionId:"ion8777_DocSearchUpsellsNewUser"}},d={INSTALL_WEB_CLIPPER_MODAL:{type:c.MODAL,promotionId:"journey_Ion_InstallWebClipper"}},p={WORK_FLOW:{type:c.MODAL,promotionId:"personalization_work_flow"},SCHOOL_FLOW:{type:c.MODAL,promotionId:"personalization_school_flow"},PERSONAL_FLOW:{type:c.MODAL,promotionId:"personalization_personal_flow"},MEETING_USE_CASE:{type:c.MODAL,promotionId:"personalization_meeting_use"},PROJECT_USE_CASE:{type:c.MODAL,promotionId:"personalization_project_use"},TODO_USE_CASE:{type:c.MODAL,promotionId:"personalization_todo_use"},CLASS_NOTES_USE_CASE:{type:c.MODAL,promotionId:"personalization_class_use"},RESEARCH_USE_CASE:{type:c.MODAL,promotionId:"personal_research_use"},TIME_MANAGEMENT_USE_CASE:{type:c.MODAL,promotionId:"personalization_time_use"},WRITING_USE_CASE:{type:c.MODAL,promotionId:"personalization_writing_use"},PLANNING_USE_CASE:{type:c.MODAL,promotionId:"personalization_plan_use"},ORGANIZING_USE_CASE:{type:c.MODAL,promotionId:"personalization_org_use"}},h={CREATE_NOTE_CHECKLIST:{type:c.FLOW,promotionId:"create_note_checklist"},EXPLORE_TEMPLATES_CHECKLIST:{type:c.FLOW,promotionId:"explore_templates_checklist"},ADD_ATTACHMENTS_CHECKLIST:{type:c.FLOW,promotionId:"add_attachments_checklist"},INSTALL_WEBCLIPPER_CHECKLIST:{type:c.FLOW,promotionId:"install_web_clipper_checklist"},SYNC_DEVICES_CHECKLIST:{type:c.FLOW,promotionId:"sync_devices_checklist"},HIGHLIGHT_CHECKLIST_MENU:{type:c.FLOW,promotionId:"highlight_checklist_menu"},ADD_ATTACHMENTS_PERSONALIZATION_CHECKLIST:{type:c.FLOW,promotionId:"add_attachments_p_checklist"},EXPLORE_EDITOR_CHECKLIST:{type:c.FLOW,promotionId:"explore_editor_checklist"},ORGANIZE_NOTES_CHECKLIST:{type:c.FLOW,promotionId:"organize_notes_checklist"},SHARE_CHECKLIST:{type:c.FLOW,promotionId:"share_checklist"},SEND_ME_A_LINK_CHECKLIST:{type:c.FLOW,promotionId:"send_me_a_link_checklist"},DOWNLOAD_DESKTOP_CHECKLIST:{type:c.FLOW,promotionId:"download_desktop_checklist"},DOWNLOAD_DESKTOP_CHECKLIST_FLOW:{type:c.FLOW,promotionId:"download_desktop_checklist_flow"},USE_TABLES_CHECKLIST:{type:c.FLOW,promotionId:"use_tables_checklist"},SHORTCUT_CHECKLIST:{type:c.FLOW,promotionId:"shortcut_checklist"}},_={BORON_EXISTING_USER_OBE:{type:c.MODAL,promotionId:"boron_existing_user_obe"},CREATE_A_NOTE_CHECKLIST:{type:c.MODAL,promotionId:"create_a_note_checklist"},BACKGROUND_SYNC_CHECKLIST:{type:c.MODAL,promotionId:"background_sync_checklist"},SEARCH_CHECKLIST:{type:c.MODAL,promotionId:"search_checklist"},REMINDERS_TAGS_CHECKLIST:{type:c.MODAL,promotionId:"reminders_tags_checklist"},YOUR_EDITOR_CHECKLIST:{type:c.MODAL,promotionId:"your_editor_checklist"},CELEBRATORY_MODAL:{type:c.MODAL,promotionId:"celebratory_modal"}},y={QUOTA_SPEED_BUMP_95_CLOSED:{type:c.BANNER,promotionId:"quota_speed_bump_95_closed"},QUOTA_SPEED_BUMP_75_CLOSED:{type:c.BANNER,promotionId:"quota_speed_bump_75_closed"},QUOTA_SPEED_BUMP_50_CLOSED:{type:c.BANNER,promotionId:"quota_speed_bump_50_closed"}},v={OBE_FREE_TRIAL_BANNER:{promotionId:"ion13457_newUserFreeTrialBanner",type:c.BANNER},FIVE_NOTES_FREE_TRIAL_BANNER:{promotionId:"ion13457_fiveNotesFTBanner",type:c.BANNER},EIGHT_NOTES_FREE_TRIAL_BANNER:{promotionId:"ion13457_eightNotesFTBanner",type:c.BANNER},OBE_FREE_TRIAL_MODAL:{promotionId:"newUserFreeTrialModal",type:c.MODAL}},m={DEVICE_LIMIT_MODAL_DISMISSED:{type:c.MODAL,promotionId:"device_limit_modal_dismissed"},DEVICE_LIMIT_UPSELL_MODAL:{type:c.FLOW,promotionId:"device_limit_upsell_modal"}};!function(e){e.QUALTRICS_INITIAL_SURVEY="qualtrics_survey_15days",e.QUALTRICS_NINETY_DAYS_SURVEY="qualtrics_survey_90days",e.QUALTRICS_RECURRING_SURVEY="qualtrics_survey_recurring"}(u||(u={}));var b=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({QUALTRICS_INITIAL_SURVEY:{promotionId:u.QUALTRICS_INITIAL_SURVEY,type:c.QUALTRICS},QUALTRICS_NINETY_DAYS_SURVEY:{promotionId:u.QUALTRICS_NINETY_DAYS_SURVEY,type:c.QUALTRICS},QUALTRICS_RECURRING_SURVEY:{promotionId:u.QUALTRICS_RECURRING_SURVEY,type:c.QUALTRICS},BOB_MIGRATION_USER:{promotionId:"bob_Migration_User",type:c.FLOW},FIRST_LAUNCH_EXISTING_USER:{promotionId:"onboarding_Ion_FLE",type:c.FLOW},FIRST_LAUNCH_EXISTING_PERSONAL_USER:{promotionId:"onboarding_Ion_Personal_FLE",type:c.FLOW},FIRST_LAUNCH_NEW_PERSONAL_USER:{promotionId:"onboarding_Ion_NewPersonal_FLE",type:c.FLOW},FIRST_LAUNCH_WITH_TRIAL_NEW_PERSONAL_USER:{promotionId:"ion7808_FT_Ion_NewPersonal_FLE",type:c.FLOW},FIRST_LAUNCH_NEW_ADMIN_FIRST_MODAL_ION7237:{promotionId:"ion7237_FLE_NewAdmin_FirstModal",type:c.FLOW},FIRST_LAUNCH_NEW_ADMIN_ION7237:{promotionId:"ion7237_FLE_NewAdmin",type:c.FLOW},FIRST_LAUNCH_EXISTING_BORON_USER:{promotionId:"onboarding_existing_boron_obe",type:c.FLOW},FIRST_LAUNCH_NEW_ADMIN_FIRST_MODAL:{promotionId:"spacy248_FLE_NewAdmin_FirstModal",type:c.FLOW},FIRST_LAUNCH_NEW_ADMIN:{promotionId:"spacy248_FLE_NewAdmin",type:c.FLOW},FIRST_LAUNCH_NEW_USER:{promotionId:"spacy249_FLE_NewUser",type:c.FLOW},CREATED_SPACE:{promotionId:"onboarding_Ion_CreatedSpace",type:c.FLOW},INVITED_TO_SPACE:{promotionId:"onboarding_Ion_InviteToSpace",type:c.FLOW},WAS_EMPTY_SPACE:{promotionId:"spacy256_wasEmptySpace",type:c.FLOW},SPACE_DIRECTORY_FLE:{promotionId:"onboarding_Ion_SpaceDirectoryFLE",type:c.FLOW},DOWNLOAD_EVERNOTE:{promotionId:"ion4983_DownloadEvernote",type:c.FLOW},FREE_TRIAL_WITH_DOWNLOAD_EVERNOTE:{promotionId:"ion7808_FT_DownloadEvernote",type:c.FLOW},FREE_TRIAL:{promotionId:"ion7808_newUserFreeTrialFlow",type:c.FLOW},NEW_FEATURE_COLLAPSIBLE_NAV:{promotionId:"newFeature_Ion_collapsible_nav",type:c.FLOW},NEW_FEATURE_STACKS:{promotionId:"newFeature_Ion_stacks",type:c.FLOW},PESO_INSERT_MENU_EDUCATION:{promotionId:"peso3134_Peso_insert_menu_edu",type:c.FLOW},PESO_BETA:{promotionId:"peso545_Peso_Beta",type:c.FLOW},PESO_BETA_SWITCH_INTERCEPT:{promotionId:"peso545_Peso_switch_intercept",type:c.MODAL},DOCUMENT_SEARCH_ANY:{promotionId:"document_search_any",type:c.EXPERIMENT_ELIGIBILITY},DOCUMENT_SEARCH_CHOICE:{promotionId:"document_search_choice_ion",type:c.MODAL},DOCUMENT_SEARCH_BANNER:{promotionId:"document_search_banner",type:c.BANNER},DOCUMENT_SEARCH_UPSELL_SEARCH_V4:{promotionId:"doc_search_upsell_search_v4",type:c.BANNER},ATTACHMENT_NUMBER:{promotionId:"attachment_number_ion",type:c.FLOW},TSD_SHARED:{promotionId:"tierdisplay_shared",type:c.FLOW},TSD_WEB:{promotionId:"tierdisplay_web",type:c.FLOW},NEW_USER_FREE_TRIAL_BANNER:{promotionId:"ion7808_newUserFreeTrialBanner",type:c.BANNER},NEW_USER_FREE_TRIAL_MODAL:{promotionId:"ion7808_newUserFreeTrialModal",type:c.MODAL},SESSION_COUNT:{promotionId:"ion7808_sessionCount",type:c.FLOW},ADAPTIVE_NOTE_EDIT:{promotionId:"adaptiveNoteEdit",type:c.MODAL},BORON_EXISTING_USER:{promotionId:"boronExistingUser",type:c.FLOW},BORON_DOC_SEARCH_PAYWALL_SHOWN:{promotionId:"boronDocSearchPaywallShown",type:c.FLOW},START_SKETCHING:{type:c.FLOW,promotionId:"startSketchingShown"},START_ANNOTATIONS:{type:c.FLOW,promotionId:"startAnnotationsShown"},ALL_NOTES_NOTE_LIST_FILTERS:{promotionId:"allNotesNotelistFilters",type:c.FLOW},SEARCH_NOTE_LIST_FILTERS:{promotionId:"searchNotelistFilters",type:c.FLOW},FILTERED_NOTE_LIST_FILTERS:{promotionId:"filteredNotelistFilters",type:c.FLOW},NOTEBOOK_NOTE_LIST_FILTERS:{promotionId:"notebookNotelistFilters",type:c.FLOW}},l,{},f,{},d,{},p,{},h,{},_,{},y,{},v,{},m);!function(){for(var e=new Set,t=0,n=Object.values(b);t<n.length;t++){var r=n[t].promotionId;if(r.length>32)throw Error('promotionId "'.concat(r,'" is too long. Character limit is 32.'));if(e.has(r))throw Error("promotionId ".concat(r," is duplicated. Use unique promotionIds"));e.add(r)}}();var g=Object.fromEntries(Object.entries(b).map((function(e){var t=o(e,2);return[t[0],t[1].promotionId]})));function E(){return function e(t){return Object(r.flattenDeep)(Object.keys(t).map((function(n){var r=t[n],o=r.promotionId;return r.children?e(r.children):o})))}(b)}function w(e){return Object.keys(b).reduce((function(t,n){var r=b[n];return e===r.type&&(t[n]=r.promotionId),t}),{})}},152:function(e,t,n){"use strict";var r=n(44);function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"subscribe",value:function(e,t,n){return Object(r.b)().broker.subscribe(e,t,n)}},{key:"publish",value:function(e,t,n,o){Object(r.b)().broker.publish(e,t,n,o)}},{key:"register",value:function(e,t){return Object(r.b)().broker.register(e,t)}},{key:"call",value:function(e,t){return Object(r.b)().broker.call(e,t)}},{key:"clearTopics",value:function(e){return Object(r.b)().broker.clearTopics(e)}}])&&o(t.prototype,n),i&&o(t,i),e}());t.a=i},155:function(e,t,n){"use strict";var r=n(19),o=n(50);function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=Object(r.default)("client:utils:TimestampPrinter"),s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.timestampGenerator={now:function(){return 0}},this.createdNote=null,this.selectedNote=null,this.startCreatingNoteTime=null,this.startSelectingNoteTime=null,this.userAuthenticatedTime=null,this.notesCount=null}var t,n,r;return t=e,(n=[{key:"setTimestampGenerator",value:function(e){"now"in e?this.timestampGenerator=e:a.error('invalid timestamp generator! It has no "now" function')}},{key:"startSelectingNote",value:function(e){this.selectedNote=e;var t=this.timestampGenerator.now();return this.startSelectingNoteTime=t,a.automation("select_note_started: ".concat(t)),t}},{key:"endRenderingNote",value:function(e,t){var n=this.timestampGenerator.now();return null!=this.startCreatingNoteTime&&e===this.createdNote?(Object(o.b)("createNote",n-this.startCreatingNoteTime,this.notesCount),this.startCreatingNoteTime=null,this.createdNote=null):null!=this.startSelectingNoteTime&&e===this.selectedNote&&(t>1e7?Object(o.b)("large_note_load_time",n-this.startSelectingNoteTime,this.notesCount):t>5e6?Object(o.b)("medium_note_load_time",n-this.startSelectingNoteTime,this.notesCount):Object(o.b)("small_note_load_time",n-this.startSelectingNoteTime,this.notesCount),this.startSelectingNoteTime=null,this.selectedNote=null),a.automation("rendering_note_ended: ".concat(n)),n}},{key:"startCreatingNote",value:function(){var e=this.timestampGenerator.now();return this.startCreatingNoteTime=e,a.automation("create_note_started: ".concat(e)),e}},{key:"endCreatingNote",value:function(e){null!=this.startCreatingNoteTime&&(this.createdNote=e);var t=this.timestampGenerator.now();return a.automation("create_note_ended: ".concat(t)),t}},{key:"markCreatingNoteFailure",value:function(){a.automation("create_note_ended: -1")}},{key:"startAddingAttachments",value:function(){var e=this.timestampGenerator.now();a.automation("add_attachment_started: ".concat(e))}},{key:"endAddingAttachments",value:function(){var e=this.timestampGenerator.now();a.automation("add_attachment_ended: ".concat(e))}},{key:"markAddingAttachmentsFailure",value:function(){a.automation("add_attachment_ended: -1")}},{key:"startSearchingNotes",value:function(){var e=this.timestampGenerator.now();return a.automation("search_note_started: ".concat(e)),e}},{key:"endSearchingNotes",value:function(){var e=this.timestampGenerator.now();return a.automation("search_note_ended: ".concat(e)),e}},{key:"startDeletingNote",value:function(){var e=this.timestampGenerator.now();a.automation("delete_note_started: ".concat(e))}},{key:"endDeletingNote",value:function(){var e=this.timestampGenerator.now();a.automation("delete_note_ended: ".concat(e))}},{key:"markDeletingNoteFailure",value:function(){a.automation("delete_note_ended: -1")}},{key:"startExpungeNote",value:function(){var e=this.timestampGenerator.now();a.automation("expunge_note_started: ".concat(e))}},{key:"endExpungeNote",value:function(){var e=this.timestampGenerator.now();a.automation("expunge_note_ended: ".concat(e))}},{key:"markExpungeNoteFailure",value:function(){a.automation("expunge_note_ended: -1")}},{key:"startDeletingNotebook",value:function(){var e=this.timestampGenerator.now();a.automation("delete_notebook_started: ".concat(e))}},{key:"endDeletingNotebook",value:function(){var e=this.timestampGenerator.now();a.automation("delete_notebook_ended: ".concat(e))}},{key:"markDeletingNotebookFailure",value:function(){a.automation("delete_notebook_ended: -1")}},{key:"startRenderingIon",value:function(){var e=this.timestampGenerator.now();return a.automation("rendering_ion_started: ".concat(e)),e}},{key:"endRenderingIon",value:function(){var e=this.timestampGenerator.now();a.automation("rendering_ion_ended: ".concat(e))}},{key:"startRenderingNoteListView",value:function(){var e=this.timestampGenerator.now();return a.automation("navigate_to_notelist_view_started: ".concat(e)),e}},{key:"endRenderingNoteListView",value:function(){var e=this.timestampGenerator.now();return a.automation("navigate_to_notelist_view_ended: ".concat(e)),e}},{key:"startGoingToAllNotebooks",value:function(){var e=this.timestampGenerator.now();a.automation("navigate_to_notebook_kingdom_started: ".concat(e))}},{key:"endGoingToAllNotebooks",value:function(){var e=this.timestampGenerator.now();a.automation("navigate_to_notebook_kingdom_ended: ".concat(e))}},{key:"startSharingNote",value:function(){var e=this.timestampGenerator.now();a.automation("share_note_started: ".concat(e))}},{key:"endSharingNote",value:function(){var e=this.timestampGenerator.now();a.automation("share_note_ended: ".concat(e))}},{key:"markSharingNoteFailure",value:function(){a.automation("share_note_ended: -1")}},{key:"startMovingNotebooktoBusiness",value:function(){var e=this.timestampGenerator.now();return a.automation("moving_notebook_to_business_start: ".concat(e)),e}},{key:"endMovingNotebooktoBusiness",value:function(){var e=this.timestampGenerator.now();return a.automation("moving_notebook_to_business_end: ".concat(e)),e}},{key:"startShowingFirstNote",value:function(){var e=this.timestampGenerator.now();return a.automation("start_showing_first_note: ".concat(e)),e}},{key:"endRenderingFirstNote",value:function(){var e=this.timestampGenerator.now();return a.automation("end_rendering_first_note: ".concat(e)),e}},{key:"startRenderingNoteInAllNotesView",value:function(){var e=this.timestampGenerator.now();return a.automation("start_rendering_all_notes_view: ".concat(e)),e}},{key:"endRenderingNoteInAllNotesView",value:function(){var e=this.timestampGenerator.now();return a.automation("end_rendering_note_in_all_notes_view: ".concat(e)),e}},{key:"beginRenderingAllNotebooks",value:function(){var e=this.timestampGenerator.now();return a.automation("start_rendering_all_notebooks_view: ".concat(e)),e}},{key:"endRenderingAllNotebooks",value:function(){var e=this.timestampGenerator.now();return a.automation("end_rendering_all_notebooks_view: ".concat(e)),e}},{key:"beginRenderingSharedWithMe",value:function(){var e=this.timestampGenerator.now();return a.automation("start_rendering_shared_with_me: ".concat(e)),e}},{key:"endRenderingSharedWithMe",value:function(){var e=this.timestampGenerator.now();return a.automation("end_rendering_shared_with_me: ".concat(e)),e}},{key:"startRenderingTagDuchy",value:function(){var e=this.timestampGenerator.now();return a.automation("start_rendering_tag_duchy: ".concat(e)),e}},{key:"endRenderingTagDuchy",value:function(){var e=this.timestampGenerator.now();return a.automation("end_rendering_tag_duchy: ".concat(e)),e}},{key:"startFocusOnSearchView",value:function(){var e=this.timestampGenerator.now();return a.automation("start_focus_search_view: ".concat(e)),e}},{key:"endFocusOnSearchView",value:function(){var e=this.timestampGenerator.now();return a.automation("end_focus_search_view: ".concat(e)),e}},{key:"startUpdatingNoteToService",value:function(){var e=this.timestampGenerator.now();return a.automation("start_update_note_to_service: ".concat(e)),e}},{key:"endUpdatingNoteToService",value:function(){var e=this.timestampGenerator.now();return a.automation("end_update_note_to_service: ".concat(e)),e}},{key:"setNotesCount",value:function(e){this.notesCount=e}},{key:"startDownSync",value:function(){var e=this.timestampGenerator.now();return a.automation("start_down_sync: ".concat(e)),e}},{key:"endDownSync",value:function(){var e=this.timestampGenerator.now();return a.automation("end_down_sync: ".concat(e)),e}},{key:"markUserAuthenticated",value:function(){var e=this.timestampGenerator.now();return this.userAuthenticatedTime=e,a.automation("user_authenticated: ".concat(e)),e}},{key:"endInitialDownSync",value:function(){var e=this.timestampGenerator.now();return null!=this.userAuthenticatedTime&&Object(o.b)("init_load_time",e-this.userAuthenticatedTime,this.notesCount),this.userAuthenticatedTime=null,a.automation("end_initial_down_sync: ".concat(e)),e}}])&&i(t.prototype,n),r&&i(t,r),e}();t.a=new s},156:function(e,t,n){"use strict";(function(e,r,o){var i,a=n(19),s=Object(a.default)("boron:env");if(void 0!==e&&e.__boronEnv)i=e.__boronEnv;else if(r&&"renderer"===r.type){var u=n(491).default;i=u,window.__boronEnv=u}else i=r&&"browser"===r.type?n(146).default:window&&window.__boronEnv||{platformName:"web",isPackaged:!1,isMac:!1,isWin:!1,isLinux:!1,isNode:!1};t.a=i,s.info("Using boronEnv: ".concat(JSON.stringify(o.exports)))}).call(this,n(34),n(83),n(220)(e))},160:function(e,t,n){"use strict";function r(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._values=void 0}var t,n,i,a,s;return t=e,(n=[{key:"init",value:(a=regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("init must be overridden for specific loader");case 1:case"end":return e.stop()}}),e)})),s=function(){var e=this,t=arguments;return new Promise((function(n,o){var i=a.apply(e,t);function s(e){r(i,n,o,s,u,"next",e)}function u(e){r(i,n,o,s,u,"throw",e)}s(void 0)}))},function(){return s.apply(this,arguments)})},{key:"isEmpty",value:function(){return!this._values||0===Object.keys(this._values).length}},{key:"getValue",value:function(e){return this._values[e]}}])&&o(t.prototype,n),i&&o(t,i),e}();t.a=i},163:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(60),o=function(){var e;window.location.assign((e=encodeURIComponent(window.location.href),"".concat(r.a.getBaseUrl(),"Login.action?targetUrl=").concat(e)))}},19:function(e,t,n){"use strict";n.r(t),n.d(t,"Logger",(function(){return l})),n.d(t,"enable",(function(){return h})),n.d(t,"setTransport",(function(){return y})),n.d(t,"default",(function(){return v}));var r=n(147),o=n.n(r);function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}var c=function(e){e.log=e.safeLog.bind(e,e.topicStr),e.info=e.safeLog.bind(e,e.topicStr),e.automation=e.safeLog.bind(e),e.warn=f.bind(e,e.topicStr),e.error=d.bind(e,e.topicStr),e.trace=p.bind(e,e.topicStr)},l=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.topicStr=void 0,this._debugOut=void 0,this.log=void 0,this.info=void 0,this.warn=void 0,this.error=void 0,this.trace=void 0,this.automation=void 0,0===t.length)throw new Error("Logger: A topic string must be provided on init");if(e.existingLoggers[t])return e.existingLoggers[t];this.topicStr=t,this._debugOut=o()(t),c(this),e.existingLoggers[t]=this}return u(e,null,[{key:"rebindAllLoggers",value:function(){Object.keys(e.existingLoggers).forEach((function(t){c(e.existingLoggers[t])}))}}]),u(e,[{key:"safeLog",value:function(){if(this.isInitialized()){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._debugOut.apply(this,i(_(t)))}}},{key:"isInitialized",value:function(){return null!=this._debugOut&&this._debugOut.enabled}}]),e}();function f(){if(this.isInitialized()){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).warn.apply(e,i(_(n)))}}function d(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).error.apply(e,i(_(n)))}function p(){if(this.isInitialized()){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=console).trace.apply(e,i(_(n)))}}function h(e){o.a.enable(e)}function _(e){return e.map((function(e){return e instanceof Object?JSON.stringify(e):e}))}function y(e){c=e,l.rebindAllLoggers()}function v(e){return new l(e)}l.existingLoggers={}},205:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,"a",(function(){return s}));var o={NAME:"En-Client",VALUE:"ion"},i="Ion-Version",a={NAME:"X-Feature-Version",VALUE:"3"};function s(){var e,t={};return t.headers=(r(e={},o.NAME,o.VALUE),r(e,a.NAME,a.VALUE),r(e,i,"6.15.0"),e),t}},206:function(e,t,n){"use strict";var r=n(152),o=n(19),i=Object(o.default)("ion:lib:logout");t.a=function(){try{r.a.call("app.logout")}catch(e){i.error(e)}}},221:function(e,t){e.exports=electron},44:function(e,t,n){"use strict";var r;function o(e){r=Object.freeze(e)}n.d(t,"a",(function(){return o})),t.b=function(){return r}},487:function(e,t){},491:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.r(t);var i=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n(146).default,{isNode:!1});t.default=i},492:function(e,t,n){"use strict";n.r(t);n(223),n(222);function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i={"stage.evernote.com":{host:"https://cec.svc-stage.evernote.com",secret:"368E6D34-3944-40BF-B78F-080545FD9E8D",apiKey:"ion"},"www.evernote.com":{host:"https://cec.svc.evernote.com",secret:"A03CDD6E-5CF8-459F-986F-F8E2A2342F2E",apiKey:"ion"}},a={"stage.evernote.com":{apiKey:"UA-285778-111",sandboxMode:!1},"www.evernote.com":{apiKey:"UA-285778-106",sandboxMode:!1}};function s(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{GA:a[e],CEC:i[e]},{},{featureFlags:{isBoardPluginEnabled:!0,isOfflineSearchEnabled:!0}})}var u=n(205),c=n(151),l=n(60),f=n(44),d=n(19);function p(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _=function e(t){h(this,e),this.value=void 0,this.next=void 0,this.prev=void 0,this.value=t,this.next=null,this.prev=null},y=function(){function e(){h(this,e),this.length=void 0,this.head=void 0,this.tail=void 0,this.length=0,this.head=null,this.tail=null}var t,n,r;return t=e,(n=[{key:"clear",value:function(){this.length=0,this.head=null,this.tail=null}},{key:"push",value:function(e){if(0===this.length){var t=new _(e);return this.head=t,this.tail=t,void this.length++}if(!this.tail)throw new Error("cannot push: tail is null");this.tail.next=new _(e),this.tail.next.prev=this.tail,this.tail=this.tail.next,this.length++}},{key:"pop",value:function(){if(0===this.length)throw new Error("cannot pop: list is empty");if(1===this.length&&this.head){this.length=0;var e=this.head;return this.head=null,this.tail=null,e.value}if(null==this.tail||null==this.tail.prev)throw new Error("cannot pop: tail and/or second to last nodes were null");var t=this.tail;return this.tail=this.tail.prev,t.prev=null,this.tail.next=null,this.length--,t.value}},{key:"insert",value:function(e,t){if(0===e)return this.unshift(t);if(e===this.length-1)return this.push(t);var n=this._findTargetNodeByIndex(e-1);if(!n||!n.next)throw new Error("cannot insert: target index is last element in list");var r=new _(t),o=n.next;r.next=o,r.prev=n,o.prev=r,n.next=r,this.length++}},{key:"unshift",value:function(e){if(0===this.length||null==this.head)return this.push(e);var t=new _(e),n=this.head;t.next=n,n.prev=t,this.head=t,this.length++}},{key:"shift",value:function(){if(0===this.length||null==this.head)throw new Error("cannot shift: list is empty");if(1===this.length||null==this.head.next)return this.pop();var e=this.head,t=this.head.next;return t.prev=null,this.head=t,e.next=null,this.length--,e.value}},{key:"slice",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;if(0===this.length)throw new Error("cannot slice: list is empty");if(e!==this.length-1){var n=e+t>this.length?this.length-e:t;if(0===e)return n===this.length?void this.clear():(this.head=this._findTargetNodeByIndex(n),this.head&&this.head.prev&&(this.head.prev.next=null,this.head.prev=null),void(this.length-=n));if(e+t===this.length){var r=this._findTargetNodeByIndex(e);if(!r||!r.prev)throw new Error("cannot slice: unknown error");return this.tail=r.prev,this.tail.next=null,r.prev=null,void(this.length-=t)}var o=this._findTargetNodeByIndex(e);if(null==o)throw new Error("cannot slice: startingNode was null");for(var i=o,a=0;a<t;a++){if(null==i.next)throw new Error("cannot slice: finalNode.next was null");i=i.next}if(null==o.prev||null==i.next)throw new Error("cannot slice: unknown error");var s=o.prev,u=i.next;o.prev=null,i.next=null,s.next=u,u.prev=s,this.length-=t}else this.pop()}},{key:"sliceNode",value:function(e){if(e===this.head)return this.shift();if(e===this.tail)return this.pop();var t=e.prev,n=e.next;return t&&n&&(t.next=n,n.prev=t),e.next=null,e.prev=null,this.length--,e.value}},{key:"get",value:function(e){var t=this._findTargetNodeByIndex(e);if(!t)throw new Error("cannot get: retrieved node was null");return t.value}},{key:"remove",value:function(e){var t=this._findTargetNodeByIndex(e);if(!t)throw new Error("cannot remove: retrieved node was null");return this.sliceNode(t),t.value}},{key:"first",value:function(){return this.head?this.head.value:null}},{key:"last",value:function(){return this.tail?this.tail.value:null}},{key:"find",value:function(e){return this._findTargetNodeByValue(e)}},{key:"forEach",value:function(e){if(0!==this.length)for(var t=this.head,n=0;null!=t;n++)e(t.value,n),t=t.next}},{key:"forEachReverse",value:function(e){if(0!==this.length)for(var t=this.tail,n=this.length-1;null!=t;n--)e(t.value,n),t=t.prev}},{key:"map",value:function(t){if(0===this.length)return this;for(var n=this.head,r=new e,o=0;null!=n;o++)r.push(t(n.value,o)),n=n.next;return r}},{key:"mapReverse",value:function(t){if(0===this.length)return this;for(var n=this.tail,r=new e,o=this.length-1;null!=n;o--)r.push(t(n.value,o)),n=n.prev;return r}},{key:"filter",value:function(t){if(0===this.length)return this;for(var n=this.head,r=new e,o=0;null!=n;o++)t(n.value,o)&&r.push(n.value),n=n.next;return r}},{key:"_findTargetNodeByValue",value:function(e){if(0===this.length)throw new Error("cannot find node: list is empty");for(var t=this.head,n=0;null!=t;n++){if(t.value===e)return{index:n,node:t};t=t.next}return{index:-1,err:"A node with that value was not found in the list.",node:null}}},{key:"_findTargetNodeByIndex",value:function(e){if(e>this.length-1)throw new ReferenceError("index out of bounds");if(0===e)return this.head;if(e===this.length-1)return this.tail;if(e<this.length/2){for(var t=this.head,n=0;n<e;n++)t&&(t=t.next);return t}for(var r=this.tail,o=this.length-1;o>e;o--)r&&(r=r.prev);return r}}])&&p(t.prototype,n),r&&p(t,r),e}();function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function g(e,t){return!t||"object"!==v(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function E(e){return(E=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var O=function(e){function t(){return m(this,t),g(this,E(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(t,e),n=t,(r=[{key:"subscribe",value:function(e){var t=this,n=new _(e);if(null==this.head&&null==this.tail)return this.head=n,this.tail=n,this.length++,function(){t.unsubscribe(n)};if(null==this.tail)throw new Error("cannot subscribe: tail is unexpectedly null");var r=this.tail;return r.next=n,n.prev=r,this.tail=n,this.length++,function(){t.unsubscribe(n)}}},{key:"unsubscribe",value:function(e){this.sliceNode(e)}}])&&b(n.prototype,r),o&&b(n,o),t}(y);var I=function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.topicPaths=void 0,this.type=void 0,this.data=void 0,this.createdTime=void 0,this.topicPaths=t,this.type=n,this.data=r,this.createdTime=Date.now()};function S(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var T=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.handler=void 0,this.handler=t}var t,n,r;return t=e,(n=[{key:"emit",value:function(e){this.handler(e)}}])&&S(t.prototype,n),r&&S(t,r),e}(),N=n(59);function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function k(e,t,n){return t&&A(e.prototype,t),n&&A(e,n),e}var C=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Map,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;L(this,e),this.forwardMap=void 0,this.inwardMap=void 0,this.forwardMap=t,this.inwardMap=n}return k(e,[{key:"set",value:function(e,t){if(!this.isValueStorable(e)||!this.isValueStorable(t))throw new TypeError("Invalid value to use as key or value");var n=this.getKey(t);if(null!=n){var r=this.getValuesAsSet(n);null!=r&&(r.delete(t),0===r.size&&this.removeKey(n))}var o=this.getValuesAsSet(e);null!=o?o.add(t):this.forwardMap.set(e,new Set([t])),this.inwardMap.set(t,e)}},{key:"getValuesAsArray",value:function(e){var t=this.getValuesAsSet(e);return t?Array.from(t):null}},{key:"getKey",value:function(e){return this.inwardMap.get(e)}},{key:"hasKey",value:function(e){return this.forwardMap.has(e)}},{key:"hasValue",value:function(e){return this.inwardMap.has(e)}},{key:"removeKey",value:function(e){var t=this,n=this.getValuesAsSet(e);null!=n&&(this.forwardMap.delete(e),n.forEach((function(e){return t.inwardMap.delete(e)})))}},{key:"removeValue",value:function(e){var t=this.getKey(e);if(null!=t){this.inwardMap.delete(e);var n=this.getValuesAsSet(t);null!=n&&(n.delete(e),0===n.size&&this.removeKey(t))}}},{key:"clone",value:function(){return e.createFromSameInstance(Object(N.cloneDeep)(this))}}],[{key:"createFromSameInstance",value:function(t){if(null==t)return e.createEmptyMap();var n=t.forwardMap||new Map,r=t.inwardMap||new Map;return new e(Object(N.cloneDeep)(n),Object(N.cloneDeep)(r))}},{key:"createEmptyMap",value:function(){return new e}},{key:"createFromObject",value:function(t){var n=new e;return Object.keys(t).forEach((function(e){t[e].forEach((function(t){n.set(e,t)}))})),n}}]),k(e,[{key:"getValuesAsSet",value:function(e){return this.forwardMap.get(e)}},{key:"isValueStorable",value:function(e){return null!=e}},{key:"getForwardObject",value:function(){var e={};return this.forwardMap.forEach((function(t,n){e[n]=Array.from(t)})),e}},{key:"getInwardObject",value:function(){var e={};return this.inwardMap.forEach((function(t,n){e[n]=t})),e}}]),e}();function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.data=void 0,this.data=new y}var t,n,r;return t=e,(n=[{key:"enqueue",value:function(e){this.data.unshift(e)}},{key:"dequeue",value:function(){return this.data.pop()}},{key:"peek",value:function(){return this.data.last()}},{key:"forEach",value:function(e){this.data.forEachReverse(e)}},{key:"clear",value:function(){this.data.clear()}},{key:"length",get:function(){return this.data.length}}])&&R(t.prototype,n),r&&R(t,r),e}();function j(e){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function U(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return!t||"object"!==j(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var W=function(e){function t(){return F(this,t),D(this,M(t).apply(this,arguments))}var n,r,o;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&x(e,t)}(t,e),n=t,(r=[{key:"add",value:function(e){this.length>=10&&this.dequeue(),this.enqueue(e)}},{key:"clearMessages",value:function(){this.clear()}}])&&U(n.prototype,r),o&&U(n,o),t}({DoublyLinkedList:y,MultiBiMap:C,Queue:P}.Queue);function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var G=Object(d.default)("ion-broker:topic"),H=["message"],K=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=void 0,this.subscribers=void 0,this.messages=void 0,this.registrant=void 0,this.children=void 0,this.name=t,this.subscribers=new O,this.children=new Map,this.messages=new W}var t,n,r;return t=e,(n=[{key:"subscribe",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=new T(e),r=this.subscribers.subscribe(n);return t&&this._replay(n),r}},{key:"clearTopics",value:function(){G.log("Clearing all messages for topic ".concat(this.name)),this.messages.clearMessages()}},{key:"publish",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:!H.includes(e),o=new I(e,t,n);r&&this._saveMessage(o);try{this.subscribers.forEach((function(e){return e.handler(o)}))}catch(e){G.log("Error caught in Broker subscription handler: ".concat(e.message))}}},{key:"register",value:function(e){var t=this;return this.registrant=e,function(){t.registrant=void 0}}},{key:"call",value:function(e){if(!this.registrant)throw new Error("The topic ".concat(this.name," does not have a registrant. ")+"Did you unregister the handler?");return this.registrant(e)}},{key:"_saveMessage",value:function(e){G.log("Saving message to topic ".concat(this.name," as there are not yet any\n      subscribers to receive it.")),this.messages.add(e)}},{key:"_replay",value:function(e){G.log("Replaying messages from topic ".concat(this.name," for subscriber")),this.messages.forEach((function(t){return e.handler(t)}))}}])&&B(t.prototype,n),r&&B(t,r),e}(),V=",",z=".",Y={attachments:{actions:".*"},client:".*",notifications:{action:".*"},system:{network:null},app:{actions:".*",businessmode:".*",events:".*",fullysynced:".*",i18n:".*",loading:".*",logout:".*",progress:".*",service:".*",validuser:".*",synced:".*"},config:{actions:".*"},message:".*",editor:".*",note:{actions:".*",datasource:".*",utils:".*",error:".*"},notebook:{actions:".*"},flow:{actions:".*",utils:".*"},search:".*",workspace:{actions:".*",utils:".*"},tag:{actions:".*"},tests:".*",user:{actions:".*",events:".*",access:".*"},autoupdater:{events:".*"},login:{events:".*"},threads:{actions:".*"},service:{note:".*",notebook:".*",search:".*",tag:".*",user:".*",threads:".*"},sync:{initialsyncdone:"*",actions:".*",persist:".*"},promotion:{actions:".*",utils:".*"},crosspromotion:{actions:".*"},business:{getshard:".*"},personal:{getshard:".*"},identity:{actions:".*"},profile:{actions:".*"},logrequest:{actions:".*"},experiments:{actions:".*"},commengine:{actions:".*"},workchat:{actions:".*"},shortcut:{actions:".*"},dropdown:".*",cupboard:{get:null,set:null,clear:null,clearnamespace:null,migrate:null},rtsclient:{actions:".*"},boron:".*",ui:{notes:".*",window:".*"},worker:{status:null}};function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var q=Object(d.default)("ion:broker:validation");var X=function(e){var t=Y;return e.split(z).every((function(e,n,r){if(null==t&&n!==r.length-1)return!1;if("string"==typeof t)try{return new RegExp(t).test(e)}catch(e){return q.error("An error occurred while compiling regexp:",e),!1}return"object"===Q(t)?e in t&&(t=t[e],!0):(q.log("branch had an unexpected type:",Q(t)),!1)}))};var J,$=Object(d.default)("ion-broker"),Z=Object(d.default)("ion-broker:recents"),ee=new K(""),te=new function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.recentTopics=[],this.subscriptions=[],this.registrations=[],this.logToRecents=function(e,n,r){switch(e){case"recentTopics":t.recentTopics.push(n),t.recentTopics.length>r&&t.recentTopics.shift();break;case"subscriptions":t.subscriptions.push(n),t.subscriptions.length>r&&t.subscriptions.shift();break;case"registrations":t.registrations.push(n),t.registrations.length>r&&t.registrations.shift();break;default:Z.log("Error: only logToRecents for topics, subscriptions, or registrations.")}},this.findLeafTopic=function(e,t){if(!X(e))throw new Error("invalid topic provided for to findLeafTopic:\n      (".concat(e,")"));var n=ee;return e.split(z).forEach((function(e){var r=n.children.get(e);r||(r=new K(e),n.children.set(e,r)),n=r,t&&t.add(r)})),n},this.subscribe=function(e,n){var r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];t.logToRecents("subscriptions",e,25);var o=e.toLowerCase().split(V);$.log("New subscribe request for topics %o",o);var i=[];return o.forEach((function(e){var o=t.findLeafTopic(e);i.push(o.subscribe(n,r))})),function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];i.forEach((function(e){$.log("Unsubscribing function"),e()})),n&&t.clearTopics(e)}},this.publish=function(e,n,r,o){var i=e.toLowerCase().split(V);$.log('New "%s" message published to topics %o with content %o',n,i,r),t.logToRecents("recentTopics",{type:n,topics:e,timestamp:Date.now()},25);var a=new Set;i.forEach((function(e){t.findLeafTopic(e,a)})),a.forEach((function(t){return t.publish(e,n||"",r,o)}))},this.clearTopics=function(e){var n=e.toLowerCase().split(V);$.log("Clearing topics %o",n);var r=new Set;n.forEach((function(e){t.findLeafTopic(e,r)})),r.forEach((function(e){return e.clearTopics()}))},this.register=function(e,n){var r=e.toLowerCase().split(V);$.log("New register request for topics %o",r);var o={};return r.forEach((function(r){if(t.registrations.includes(r))throw new Error("The topic, ".concat(r,", is already registered to another handler. If you'd like to change handlers please unregister it first."));t.logToRecents("registrations",e,25),o[r]=t.findLeafTopic(r).register(n)})),function(){Object.keys(o).forEach((function(e){var n=t.registrations.indexOf(e);n>-1&&t.registrations.splice(n,1),o[e]()}))}},this.call=function(e,n){var r=e.toLowerCase();if(r.includes(V))throw new Error('Only 1 leaf topic to call should be provided to the topicPath parameter. "topicPath" was: '.concat(e));return t.findLeafTopic(r).call(n)}},ne=function(){Z.log("Broker recent topics",te.recentTopics),Z.log("Broker recent subscriptions",te.subscriptions),Z.log("Broker recent registrations",te.registrations)},re=te,oe=n(163),ie=n(206),ae=n(148),se=n.n(ae),ue=n(84),ce=n.n(ue),le=n(207),fe=n(11),de=n(112),pe=n(50),he=n(155);function _e(e,t,n,r,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,o)}function ye(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function a(e){_e(i,r,o,a,s,"next",e)}function s(e){_e(i,r,o,a,s,"throw",e)}a(void 0)}))}}fe.logger.configure({name:"ion-conduit",console:{level:fe.logger.WARN}},de.ClientLogger),Object(pe.a)(),he.a.markUserAuthenticated(),se.a.config({name:"evernote",storeName:"sugar"}),Object(f.a)({applicationTitle:"Evernote Web",applicationRole:"web",isAutoUpdateAllowed:!1,broker:re,localizedAppTitleKey:"Account.header.title",objectPersistence:se.a,triggerLogin:oe.a,triggerLogout:ie.a,initConduit:(J=ye(regeneratorRuntime.mark((function e(t){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ce.a.parse(window.location.search),r=n&&n.branch,(o=s(l.a.getBaseUrlHost())).featureFlags.isOfflineSearchEnabled=!1,e.abrupt("return",Object(le.init)({params:{backgroundNoteMetadataSyncConfig:{notesPerFetch:20,pollingIntervalMilliseconds:1e4},cachePolicy:{softCap:500,hardCap:1e3},customHeaders:Object(u.a)().headers||{},cookieAuth:{defaultServiceHost:t},noFreezeImmutable:!0,workerRelativePath:r?"/IonConduitWorker.action?branch=".concat(r):"/IonConduitWorker.action",servicesConfig:o,promotionIDs:Object(c.getAllPromotionIds)(),maestroClientType:6,maestroPlatform:"PLATFORM_UNKNOWN",webWorkerStateChangeHandler:function(e){try{fe.logger.info(e),re.publish("worker.status",e)}catch(e){fe.logger.error(e)}}}}));case 5:case"end":return e.stop()}}),e)}))),function(e){return J.apply(this,arguments)})}),ye(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(3),n.e(0)]).then(n.bind(null,531));case 2:return e.next=4,Promise.all([n.e(3),n.e(35),n.e(0),n.e(34)]).then(n.bind(null,4163));case 4:return e.next=6,n.e(38).then(n.bind(null,4169));case 6:window.Cupboard=e.sent.default,window.logRecentBroker=ne;case 8:case"end":return e.stop()}}),e)})))()},50:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u}));var r=n(51),o=n(156);function i(){try{r.a.init({clientToken:"pub3565e35d01d4f9e0dfcb06bad0a97342",forwardErrorsToLogs:!1,datacenter:"us"}),r.a.addLoggerGlobalContext("platform",o.a.platformName),r.a.addLoggerGlobalContext("view",{referrer:""})}catch(e){}}function a(e){try{r.a.addLoggerGlobalContext("userid",e)}catch(e){}}function s(e,t,n){try{r.a.logger.info(e,{duration:t,notesCount:n||0})}catch(e){}}function u(e,t){try{r.a.logger.info(e,{count:t})}catch(e){}}},60:function(e,t,n){"use strict";var r=n(84),o=n.n(r),i=n(114);function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.?)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?$","i"),c=/^{%.*%}$/,l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseUrl=void 0,this.userSlotUrlPrefix=void 0,i.a.init()}var t,n,r;return t=e,(n=[{key:"getBaseUrlFromBaseEmbed",value:function(){var e=i.a.getValue("SERVICE_BASE_URL");return u.test(e)?e:null}},{key:"getUserSlotUrlPrefixFromBaseEmbed",value:function(){var e=i.a.getValue("userSlotUrlPrefix");return c.test(e)?null:e}},{key:"setBaseUrl",value:function(e){this.baseUrl=e,this.baseUrl.endsWith("/")||(this.baseUrl+="/")}},{key:"getBaseUrl",value:function(){return null==this.baseUrl&&this.setBaseUrl(this.getBaseUrlFromBaseEmbed()||"https://www.evernote.com/"),this.baseUrl}},{key:"getBaseUrlHost",value:function(){return new URL(this.getBaseUrl()).host}},{key:"getUserSlotUrlPrefix",value:function(){return null==this.userSlotUrlPrefix&&(this.userSlotUrlPrefix=this.getUserSlotUrlPrefixFromBaseEmbed()||String("object"===("undefined"==typeof window?"undefined":a(window))&&window.location&&o.a.parse(window.location.search).USER_SLOT_URL_PREFIX||"")),this.userSlotUrlPrefix}},{key:"getBaseUrlWithPathPrefix",value:function(){var e,t=this,n="".concat(this.getBaseUrl()).concat((e=/^\/*(.*)$/.exec(t.getUserSlotUrlPrefix()))?e[1]:t.getUserSlotUrlPrefix());return n.endsWith("/")||(n+="/"),n}}])&&s(t.prototype,n),r&&s(t,r),e}();t.a=new l}});